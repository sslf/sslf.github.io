---
layout: post
category: 设计模式
#permalink: /designPatterns/proxy.html
---
### 一、什么是代理模式
为其他对象提供一种代理，以控制对这个对象的访问。

### 二、具体控制了被代理对象的哪些访问？
1. 新增被代理对象不存在的方法
2. 屏蔽被代理对象中的某些方法
3. 扩展被代理的方法

### 三、实际应用场景
场景一：购买火车票
> 最开始我们购买火车票一定要去火车站购买。然而火车站大多却是在大城市的边缘地区，离我们生活的区域较远，
购买极其不方便。这个时候，就出现了火车票代售点。它不但可以购买车票，而且还提供预约购票等额外的功能。但是，
却又不提供退票功能(可能实际上有提供)，要退票只能去火车站退。

场景二：

### 四、代理的分类
1. 静态代理
2. 动态代理 [Java动态代理](/java/base/dynamicProxy.html)

### 五、具体的实现方式
静态代理：
在编写代码前，一定要记住，代理就用是一个类来代替另外一个类来处理事情。
```java
/**
 * 定义一个卖火车票接口
 */
public interface IticketSales {
    void ticketSales();
}

/**
 * 火车站实现买票接口
 */
public Class TrainStation implement IticketSales {

    @Override
    public void ticketSales(){
        System.out.println("火车站卖票");
    }

}

/**
 * 火车站实现买票接口
 */
public Class TrainStationProxy implement IticketSales {
    // 被代理对象
    private IticketSales target;

    public TrainStationProxy(){

    }

    public TrainStationProxy(IticketSales target){
        this.target = target;
    }

    @Override
    public void ticketSales(){
        System.out.println("代售点--购票开始--欢迎来购买火车票");
        target.ticketSales();
        System.out.println("代售点--购票结束--祝你购票愉快，并送了一瓶水");
    }

}

public static void main(String[] args) {
    // 被代理对象
    IticketSales trainStation = new TrainStation();

    // 代理对象
    IticketSales trainStationProxy = TrainStationProxy(trainStation);

    // 执行购票方法
    trainStationProxy.ticketSales();
}

```
